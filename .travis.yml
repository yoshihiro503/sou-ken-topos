language: coq
sudo: required
install: wget https://raw.githubusercontent.com/ocaml/ocaml-ci-scripts/master/.travis-opam.sh
script: bash -ex .travis-opam.sh
after_success:
  - sh make_doc.sh
env:
  - PACKAGE=sou-ken-topos OCAML_VERSION=4.02
  - PACKAGE=sou-ken-topos OCAML_VERSION=4.03
  - PACKAGE=sou-ken-topos OCAML_VERSION=4.04
  - PACKAGE=sou-ken-topos OCAML_VERSION=4.05
  - PACKAGE=sou-ken-topos OCAML_VERSION=4.06
os:
  - linux
  - osx
deploy:
  provider: pages
  target-branch: gh-pages
  local-dir: html
  skip-cleanup: true
  github-token: $GITHUB_TOKEN  # Set in travis-ci.org dashboard, marked secure
  keep-history: true
  on:
    branch: yoshihiro503/travis-ci
